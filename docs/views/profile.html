<!--
Author(s) : Balraj Singh Bains, Mark Ericson Ponce Santos
Created on : 13/01/2017
-->


<!-- Profile errors go here -->
<div data-ng-if="profileError" class="jumbotron bg-danger">
      <div class="container text-center">
            <h3>{{profileErrorMessage}}</h3>
      </div>
</div>

<!--Profile info-->
<div data-ng-if="!profileError" class="jumbotron">
      <div class="container text-center">
            <div class="row">
                  <div class="col-xs-4 col-md-4"></div>
                  <div class="col-xs-4 col-md-4">
                        <a href="" class="thumbnail">
                              <img data-ng-src="{{profilePictureUrl}}" alt="profile picture" height="200" width="200">
                        </a>
                  </div>
            </div>
            <h3>Hello, {{username}}</h3>
            <p>{{description}}</p>
            <hr>
            <button type="button" class="btn btn-info" data-ng-click="changeView('/settings')">
        <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>Settings</button>
      </div>
</div>

<!--main container-->
<div class="container">


      <div class="input-group">
            <div class="input-group-addon">
                  <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
            </div>
            <input type="text" class="form-control" id="feed-filter" placeholder="Type to filter content.." data-ng-model="searchInput">
      </div>


      <div class="row">

            <div class="col-sm-12 col-md-6">
                  <h3 class="page-header">Twitter</h3>

                  <!-- error for twitter accounts-->
                  <div class="well well-lg well-danger" data-ng-if="twitterAccounts.length === 0">
                        <h3 class="text-center">
                              Oops! no linked accout :(
                        </h3>
                        <p class="text-center">Visit <a href="" data-ng-click="changeView('/settings')">settings</a> to link account<p>
                  </div>

                  <!--feeds-->
                  <div data-ng-if="twitterAccounts.length > 0">
                        <!-- error for twitter accounts feeds-->
                        <div class="well well-lg well-danger" data-ng-if="!twitterAccounts[0].feeds">
                              <h3 class="text-center">
                                    Your feed is empty :(
                              </h3>
                              <p class="text-center">Please go to your Twitter account to post something</p>
                        </div>

                  
                        <div data-ng-if="twitterAccounts[0].feeds.length > 0" class="scroll-content">
                              <!--repeat of feeds-->
                              <div class="panel panel-primary" data-ng-repeat="feed in twitterAccounts[0].feeds | filter:{tweet : searchInput}">
                                    <div class="panel-heading">
                                          <h3 class="panel-title">{{twitterAccounts[0].username}}</h3>
                                    </div>
                                    <div class="panel-body">
                                          <p>{{feed.tweet}}</p>
                                          <div>
                                                <p class="pull-left">
                                                <video width="400" height="240" controls>
                                                      <source src="http://techslides.com/demos/sample-videos/small.mp4" type=video/mp4>
                                                </video>
                                                <span class="glyphicon glyphicon-heart" aria-hidden="true"></span>&nbsp;{{feed.likes}}</p>
                                                <p class="pull-right">{{feed.timestamp}}</p>
                                          </div>
                                    
                                    </div>
                              </div>
                              <div class="text-center">
                                    <a href=""><span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>&nbsp;Show more</a>
                              </div>
                        </div>
                  </div>
            </div>

            <!-- instagram feed-->
            <div class="col-sm-12 col-md-6">

                  <!--Feed example-->
                  <h3 class="page-header">Instagram</h3>

                  <!-- error for instagram accounts-->
                  <div class="well well-lg well-danger" data-ng-if="instagramAccounts.length === 0">
                        <h3 class="text-center">
                              Oops! no linked accout :(
                        </h3>
                        <p class="text-center">Visit <a href="" data-ng-click="changeView('/settings')">settings</a> to link account<p>
                  </div>

                  <!--feeds-->
                  <div data-ng-if="instagramAccounts.length > 0">
                        <!-- error for twitter accounts feeds-->
                        <div class="well well-lg well-danger" data-ng-if="!instagramAccounts[0].feeds">
                              <h3 class="text-center">
                                    Your feed is empty :(
                              </h3>
                              <p class="text-center">Please go to your Instagram account to post something</p>
                        </div>

                        <div data-ng-if="instagramAccounts[0].feeds.length > 0" class="scroll-content">
                              <!--repeat of feeds-->
                              <div class="panel panel-success" data-ng-repeat="feed in instagramAccounts[0].feeds | filter:{caption : searchInput}">
                                    <div class="panel-heading">
                                          <h3 class="panel-title">{{instagramAccounts[0].username}}</h3>
                                    </div>
                                    <div class="panel-body">
                                          <img data-ng-src="{{feed.image}}" alt="{{feed.caption}}" class="img-responsive center-block img-rounded">
                                          <p>{{feed.caption}}</p>
                                          <div>
                                                <p class="pull-left">
                                                <span class="glyphicon glyphicon-heart" aria-hidden="true"></span>&nbsp;{{feed.likes}}
                                                </p>
                                                <p class="pull-right">{{feed.timestamp}}</p>
                                          </div>
                                    </div>
                              </div>
                              <div class="text-center">
                                    <a href=""><span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>&nbsp;Show more</a>
                              </div>
                        </div>
                  </div>

            </div>
      </div><!--./row-->

      <hr>

      <button type="button" class="btn btn-warning center-block" data-ng-click="changeView('/login')"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>Logout</button>

</div>
<!--./main container-->
