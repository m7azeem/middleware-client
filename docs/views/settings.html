<!--
Author(s) : Balraj Singh Bains
Created on : 13/01/2017
-->

<!--Initialise controller-->
<div class="container">

  <!--Breadcrumbs-->
  <ol class="breadcrumb">
    <li><a href="" data-ng-click="changeView('/profile')">Profile</a></li>
    <li class="active">Settings</li>
  </ol>

  <form class="form-horizontal">
    <fieldset>

      <!-- Form Name -->
      <legend>Settings</legend>

      <!-- Text input-->
      <div class="form-group">
        <label class="col-sm-4 control-label" for="profile-username">Username</label>
        <div class="col-sm-8">
          <input data-ng-model="username" id="profile-username" name="profile-username" type="text" class="form-control input-md" disabled>
        </div>
      </div>

      <!-- Textarea -->
      <div class="form-group">
        <label class="col-sm-4 control-label" for="profile-description">Description</label>
        <div class="col-sm-8">
          <textarea data-ng-model="description" data-ng-change="enableSaveButton()" class="form-control" id="profile-description" name="profile-description">{{description}}</textarea>
        </div>
      </div>

      <!-- Text input-->
      <div class="form-group">
        <label class="col-sm-4 control-label" for="profile-picture">Profile Picture Link</label>
        <div class="col-sm-8">
          <input data-ng-model="profilePictureUrl" data-ng-change="enableSaveButton()" id="profile-picture" name="profile-picture"
            type="text" placeholder="{{profilePictureUrl}}" class="form-control input-md">
            <span class="help-block">Link for your profile picture</span>
        </div>
      </div>

      <!-- Select input-->
      <div class="form-group">
        <label class="col-sm-4 control-label" for="profile-username">Theme</label>
        <div class="col-sm-8">
          <select data-ng-model="theme" name="account-type" id="account-type" class="form-control" data-ng-change="enableSaveButton()">
                <option value="default">Default</option>
                <option value="blue">Blue</option>
                <option value="orange">Orange</option>
                <option value="green">Green</option>
                <option value="pink">Pink</option>
          </select>
        </div>
      </div>

      <div class="text-center">
        <button type="button" class="btn btn-primary" data-ng-class="saveButton" data-ng-click="saveSettings()"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>Save</button>
        <hr/>
      </div>

      <!-- error field -->
      <div data-ng-if="settingsError" class="alert alert-danger">
        <button type="button" class="close" data-dismiss="alert" data-ng-click="closeSettingsError()" aria-hidden="true">&times;</button>
        <strong>Oops!</strong> {{settingsErrorMessage}}.
      </div>

      <!-- success field -->
      <div data-ng-if="settingsSuccess" class="alert alert-success">
        <button type="button" class="close" data-dismiss="alert" data-ng-click="closeSettingsSuccess()" aria-hidden="true">&times;</button>
        <strong>Yay!</strong> {{settingsSuccessMessage}}.
      </div>

    </fieldset>
  </form>

  <legend>Linked Accounts</legend>

  <!-- Linked accounts list -->
  <ul class="list-group">
    <li class="list-group-item" data-ng-repeat="account in accounts">
      <b>{{account.type}}:</b> {{account.username}}
      <button type="button" class="btn btn-danger btn-xs pull-right" data-ng-click="removeAccount(account.type,account.username)">
      <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>Remove
    </button>
    </li>
  </ul>

  <!-- Add new account form-->
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title">Add Account</h3>
    </div>
    <div class="panel-body">
      <form class="form-horizontal">
        <fieldset>

          <div class="form-group">

            <!-- account type-->
            <div class="col-xs-6 col-sm-6">
              <select data-ng-model="addAccountType" name="account-type" id="account-type" class="form-control">
              <option value="twitter">Twitter</option>
              <option value="instagram">Instagram</option>
              </select>
            </div>

            <!-- account username-->
            <div class="col-xs-6 col-sm-6">
              <input type="text" data-ng-model="addAccountUsername" name="account-username" id="account-username" class="form-control" value="" required="required"
                placeholder="username" required>
            </div>

          </div>

          <div class="text-center">
            <button data-ng-click="addAccount()" type="submit" class="btn btn-sm btn-success"> 
              <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Add
            </button>
          </div>

        </fieldset>
      </form>

      <!-- error field -->
      <div>
        <hr data-ng-if="addAccountError">
        <div data-ng-if="addAccountError" class="alert alert-danger">
          <button type="button" class="close" data-dismiss="alert" data-ng-click="closeAddAccountError()" aria-hidden="true">&times;</button>
          <strong>Oops!</strong> {{addAccountErrorMessage}}.
        </div>
      </div>

      <!-- success field -->
      <div>
        <hr data-ng-if="addAccountSuccess">
        <div data-ng-if="addAccountSuccess" class="alert alert-success">
          <button type="button" class="close" data-dismiss="alert" data-ng-click="closeAddAccountSuccess()" aria-hidden="true">&times;</button>
          <strong>Yay!</strong> {{addAccountSuccessMessage}}.
        </div>
      </div>

    </div><!--./panel body-->
  </div>

  <div class="text-center">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span><a href="" data-ng-click="changeView('/profile')">Return to profile</a>
    <br><br>
  </div>

</div>